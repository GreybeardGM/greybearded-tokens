<div class="gbtf-frames">
  <style>
    .gbtf-frames__grid { display:grid; grid-template-columns: 1fr 1fr 1fr; gap:12px; }
    .gbtf-frames__column  { border: var(--color-border-light-2, #888) 1px solid; border-radius:8px; padding:8px; }
    .gbtf-frames__column h3 { margin: 0 0 6px 0; font-size: 1.05rem; }
    .fg { display:flex; align-items:center; justify-content:space-between; gap:8px; margin:6px 0; }
    .fg label { flex: 0 0 44%; }
    .fg input[type="text"], .fg input[type="number"], .fg select { flex: 1 1 auto; }
    .fg.is-dummy input[disabled] { opacity: 0.85; pointer-events: none; }
    .input-pair { display:flex; gap:8px; align-items:center; }
    .gbtf-frames__preview { aspect-ratio: 1; border: var(--color-border-light-2, #888) 1px solid; background-color: #222; background-image: url(ui/denim090.png);
               display:flex; align-items:center; justify-content:center; margin-bottom:8px; }
    .gbtf-frames__preview img { max-width:100%; max-height:100%; object-fit:contain; image-rendering: auto; border:unset; }
  </style>

  <div class="gbtf-frames__grid">
    <!-- Frame 1 -->
    <section class="gbtf-frames__column">
      <h3>{{localize "GBT.Frames.Frame1"}}</h3>

      <!-- Preview -->
      <div class="gbtf-frames__preview" data-preview-for="frame1-path" aria-label="{{localize 'GBT.Frames.Frame1Preview'}}">
        <img src="{{f1.path}}" alt="{{localize 'GBT.Frames.Frame1Preview'}}">
      </div>

      <!-- Dummy Enabled (placeholder only, not saved) -->
      <div class="fg is-dummy" aria-hidden="true" title="{{localize 'GBT.Frames.Frame1AlwaysOnTitle'}}">
        <label>{{localize "GBT.Common.Enabled"}}</label>
        <input type="checkbox" checked disabled data-dummy="frame1-enabled"/>
      </div>

      <div class="fg">
        <label>{{localize "GBT.Frames.Path"}}</label>
        <div class="input-pair">
          <input type="text" name="frame1-path" value="{{f1.path}}" />
          <button type="button" data-action="fp" data-target="frame1-path" title="{{localize 'GBT.Frames.Browse'}}">
            <i class="fas fa-folder-open"></i>
          </button>
        </div>
      </div>

      <div class="fg">
        <label>{{localize "GBT.Frames.Scale"}}</label>
        <input type="number" step="0.01" name="frame1-scale" value="{{f1.scale}}" />
      </div>

      <div class="fg">
        <label>{{localize "GBT.Common.TintMode"}}</label>
        <select name="frame1-tintMode">
          {{#each TINT_CHOICES}}
            <option value="{{@key}}" {{#if (eq ../f1.tintMode @key)}}selected{{/if}}>{{localize this}}</option>
          {{/each}}
        </select>
      </div>

      <div class="fg">
        <label>{{localize "GBT.Common.UsePlayerColor"}}</label>
        <input type="checkbox" name="frame1-usePlayerColor" {{#if f1.usePlayerColor}}checked{{/if}} />
      </div>

      <div class="fg">
        <label>{{localize "GBT.Common.DefaultColor"}}</label>
        <div class="input-pair">
          <input type="text"  name="frame1-defaultColor-text"  value="{{f1.defaultColor}}" placeholder="#RRGGBB" />
          <input type="color" name="frame1-defaultColor-color" value="{{f1.defaultColor}}" />
        </div>
      </div>
    </section>

    <!-- Frame 2 -->
    <section class="gbtf-frames__column">
      <h3>{{localize "GBT.Frames.Frame2"}}</h3>

      <!-- Preview -->
      <div class="gbtf-frames__preview" data-preview-for="frame2-path" aria-label="{{localize 'GBT.Frames.Frame2Preview'}}">
        <img src="{{f2.path}}" alt="{{localize 'GBT.Frames.Frame2Preview'}}">
      </div>

      <div class="fg">
        <label>{{localize "GBT.Common.Enabled"}}</label>
        <input type="checkbox" name="frame2-enabled" {{#if f2.enabled}}checked{{/if}} />
      </div>

      <div class="fg">
        <label>{{localize "GBT.Frames.Path"}}</label>
        <div class="input-pair">
          <input type="text" name="frame2-path" value="{{f2.path}}" />
          <button type="button" data-action="fp" data-target="frame2-path" title="{{localize 'GBT.Frames.Browse'}}">
            <i class="fas fa-folder-open"></i>
          </button>
        </div>
      </div>

      <div class="fg">
        <label>{{localize "GBT.Frames.Scale"}}</label>
        <input type="number" step="0.01" name="frame2-scale" value="{{f2.scale}}" />
      </div>

      <div class="fg">
        <label>{{localize "GBT.Common.TintMode"}}</label>
        <select name="frame2-tintMode">
          {{#each TINT_CHOICES}}
            <option value="{{@key}}" {{#if (eq ../f2.tintMode @key)}}selected{{/if}}>{{localize this}}</option>
          {{/each}}
        </select>
      </div>

      <div class="fg">
        <label>{{localize "GBT.Common.UsePlayerColor"}}</label>
        <input type="checkbox" name="frame2-usePlayerColor" {{#if f2.usePlayerColor}}checked{{/if}} />
      </div>

      <div class="fg">
        <label>{{localize "GBT.Common.DefaultColor"}}</label>
        <div class="input-pair">
          <input type="text"  name="frame2-defaultColor-text"  value="{{f2.defaultColor}}" placeholder="#RRGGBB" />
          <input type="color" name="frame2-defaultColor-color" value="{{f2.defaultColor}}" />
        </div>
      </div>
    </section>

    <!-- Mask -->
    <section class="gbtf-frames__column">
      <h3>{{localize "GBT.Frames.Mask"}}</h3>

      <!-- Preview -->
      <div class="gbtf-frames__preview" data-preview-for="mask-path" aria-label="{{localize 'GBT.Frames.MaskPreview'}}">
        <img src="{{mk.path}}" alt="{{localize 'GBT.Frames.MaskPreview'}}">
      </div>

      <div class="fg">
        <label>{{localize "GBT.Common.Enabled"}}</label>
        <input type="checkbox" name="mask-enabled" {{#if mk.enabled}}checked{{/if}} />
      </div>

      <div class="fg">
        <label>{{localize "GBT.Frames.Path"}}</label>
        <div class="input-pair">
          <input type="text" name="mask-path" value="{{mk.path}}" />
          <button type="button" data-action="fp" data-target="mask-path" title="{{localize 'GBT.Frames.Browse'}}">
            <i class="fas fa-folder-open"></i>
          </button>
        </div>
      </div>
    </section>
  </div>

  <footer class="sheet-footer gbtf-frames__footer">
    {{{formActions}}}
  </footer>
</div>
